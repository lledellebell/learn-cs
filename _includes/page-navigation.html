{% assign pages_in_category = site.pages | where_exp: "item", "item.path contains current_path[0]" | sort: 'path' %}
{% assign current_index = -1 %}

{% for p in pages_in_category %}
  {% if p.url == page.url %}
    {% assign current_index = forloop.index0 %}
  {% endif %}
{% endfor %}

{% if current_index >= 0 %}
  <nav class="page-navigation">
    {% assign prev_index = current_index | minus: 1 %}
    {% assign next_index = current_index | plus: 1 %}

    <div class="page-nav-container">
      <!-- Previous Page -->
      {% if prev_index >= 0 %}
        {% assign prev_page = pages_in_category[prev_index] %}
        <a href="{{ prev_page.url | relative_url }}" class="page-nav-link prev">
          <span class="nav-direction">
            <i class="fas fa-arrow-left"></i>
            이전 문서
          </span>
          <span class="nav-title">{{ prev_page.title | default: prev_page.name }}</span>
        </a>
      {% else %}
        <div class="page-nav-link prev disabled">
          <span class="nav-direction">
            <i class="fas fa-arrow-left"></i>
            이전 문서
          </span>
          <span class="nav-title">없음</span>
        </div>
      {% endif %}

      <!-- Next Page -->
      {% if next_index < pages_in_category.size %}
        {% assign next_page = pages_in_category[next_index] %}
        <a href="{{ next_page.url | relative_url }}" class="page-nav-link next">
          <span class="nav-direction">
            다음 문서
            <i class="fas fa-arrow-right"></i>
          </span>
          <span class="nav-title">{{ next_page.title | default: next_page.name }}</span>
        </a>
      {% else %}
        <div class="page-nav-link next disabled">
          <span class="nav-direction">
            다음 문서
            <i class="fas fa-arrow-right"></i>
          </span>
          <span class="nav-title">없음</span>
        </div>
      {% endif %}
    </div>
  </nav>
{% endif %}
